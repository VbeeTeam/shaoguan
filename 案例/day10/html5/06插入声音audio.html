<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
</head>

<body>
    <!--     <audio src="bgsound.mp3"  autoplay="autoplay"  controls loop="-1"/></audio>   -->
    为了浏览器兼容， 我们需要做三种声音文件 ogg mp3 wav
    <audio controls autoplay="autoplay" id="audio">
        <source src="bgsound.mp3" />
        <source src="music.ogg" />
        您的浏览器不支持播放声音
    </audio>
    <button onclick="start()">开始</button>
</body>

</html>
<script>
    let audio = document.getElementById("audio");
    let audioPlay = audio.play();

    audioPlay.then(() => {
        console.log('可以自动播放');
    }).catch((err) => {
        console.log(err);
        console.log("不允许自动播放");

        //音频元素只在用户交互后调用.play(),
        // ...
        
    });

    function start(){
        audio.play();
    }

</script>